{"version":3,"sources":["picSpace/pic.js"],"names":["uploadFile","formData","FormData","files","getElementById","document","enctype","file","fileArray","slice","append","xhr","open","XMLHttpRequest","status","onload","logData","send","vue","Vue","el","imgSrc1","data","content","this","created","Clipboard","clipboard","e","clearSelection","requestMsg","error","action","trigger","methods","self","ajax","url","type","log","success"],"mappings":"aAuBa,SAAAA,aApBb,IAAAC,EAAA,IAAAC,SAkCAC,EAASH,SAAYI,eAAA,UAAAD,MACjBF,EAAIA,QAAW,yBACHI,MAASD,KAAAA,EAAAA,GACZE,QAAT,SAAiBC,GACbC,EAAAA,OAAaC,SAAHF,KAEVN,IAAAA,EAAAA,IAASS,eACZC,EAFDC,KAAA,OAAA,kBAAA,GAGAD,EAAIA,OAAM,SAAIE,GACE,KAAZD,KAAKE,QACLC,IAAJC,WAGKL,EAAAM,KAAAhB,GA/CT,IAAIiB,IAAI,IAAIC,KACRC,GAAG,UADHF,MACGG,QAAA,4BACHC,QAAK,MACDD,YAEAE,QAAAA,WALQC,KAAAR,UAOZS,IAAAA,EAAQ,IAAAC,UAAY,aAChBC,EAAKX,GAAL,UAAA,SAAAY,GACID,WAAAA,QACJA,EAAAA,mBAEIC,EAAEC,GAAAA,QAAF,SAAAD,GAFJE,WAAA,QAIAH,QAAAI,MAAa,UAASH,EAAAI,QAClBF,QAAAA,MAAW,WAAXF,EAAAK,YAGHC,SAlBOlB,QAcR,WAMJkB,IAASC,EAAAX,KACLR,EAAAA,MACQmB,IAAAA,cACFC,KAAK,OACHC,QAAI,SADDf,GAEHgB,QAFGC,IAAAjB,GAGHkB,EAAQjB,QAAAD","file":"../../picSpace/pic.js","sourcesContent":["/**\r\n * Created by nizhiwei-labtop on 2017/6/30.\r\n */\r\nlet vue=new Vue({\r\n    el:'#vueCon',\r\n    data:{\r\n        imgSrc1:\"<img src='../../picSpace/\",\r\n        imgSrc2:\"'/>\",\r\n        content:[],\r\n    },\r\n    created:function () {\r\n        this.logData();\r\n        let clipboard = new Clipboard('.copy-src');\r\n        clipboard.on('success', function(e) {\r\n            requestMsg('复制成功');\r\n            e.clearSelection();\r\n        });\r\n        clipboard.on('error', function(e) {\r\n            requestMsg('复制失败');\r\n            console.error('Action:', e.action);\r\n            console.error('Trigger:', e.trigger);\r\n        });\r\n    },\r\n    methods: {\r\n        logData(){\r\n            let self=this;\r\n            $.ajax({\r\n                url:'/pic/allPic',\r\n                type:'post',\r\n                success:function (data) {\r\n                    console.log(data);\r\n                    self.content = data;\r\n                }\r\n            });\r\n        }\r\n    }\r\n});\r\nfunction uploadFile(){\r\n    var formData = new FormData();\r\n    var files = document.getElementById(\"myfile\").files;\r\n    formData.enctype=\"multipart/form-data\";\r\n    var fileArray=[].slice.call(files,0);//类数组转换为数组\r\n    fileArray.forEach(function(file){\r\n        formData.append(\"myfile\",file);//循环遍历把文件对象插到formData对象上\r\n    });\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.open(\"post\",\"/pic/uploadPic\",true);//发送post请求到/upload\r\n    xhr.onload = function (e) {\r\n        if(this.status == 200){\r\n            vue.logData()\r\n        }\r\n    };\r\n    xhr.send(formData);\r\n}\r\n\r\n"]}